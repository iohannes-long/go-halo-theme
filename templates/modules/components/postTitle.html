<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <!-- 帖子标题栏组件 -->
  <div
    th:fragment="postTitle"
    class="flex justify-center overflow-hidden border-b bg-cover bg-center bg-no-repeat"
    th:classappend="${post.spec != null and post.spec.cover != null and post.spec.cover != ''} ? 'relative text-white' : 'bg-white' "
  >
    <!-- 封面图 -->
    <div
      th:if="${post.spec != null and post.spec.cover != null and post.spec.cover != ''}"
      class="absolute z-0 h-full w-full scale-110 bg-cover bg-center bg-no-repeat transition-transform duration-500 group-hover:scale-110"
      th:style="|background-image: url('${post.spec.cover}');filter: brightness(0.65) blur(4px);|"
    ></div>

    <!-- 主要内容 -->
    <div
      class="max-container-width z-10 flex w-full flex-col gap-2 px-5 py-4 max-sm:gap-1.5 sm:px-[24px] sm:py-7 md:gap-2.5 lg:px-6 lg:py-10"
    >
      <!-- 标题 -->
      <h1
        class="text-center text-3xl font-bold leading-tight max-md:text-[1.6875rem] max-sm:text-left max-sm:text-2xl"
        th:text="${post.spec.title}"
      ></h1>

      <!-- 作者信息及阅读量、发布时间等 -->
      <div class="flex flex-wrap items-center justify-center gap-3 pl-1 text-xs opacity-50 max-sm:justify-start">
        <span th:text="|作者：${post.owner.displayName}|"></span>
        <span th:text="|发布时间： ${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}|"></span>
        <span th:text="|阅读量：${post.stats?.visit ?: 0}|"></span>
        <a th:if="${haloCommentEnabled}" href="#comment" th:text="|评论数：${post.stats?.comment ?:0}|"></a>
      </div>

      <!-- 分类和标签容器 -->
      <div
        th:if="${!#lists.isEmpty(post.categories) or !#lists.isEmpty(post.tags)}"
        class="flex flex-wrap justify-center gap-2 max-sm:justify-start"
      >
        <!-- 分类 -->
        <div th:if="${not #lists.isEmpty(post.categories)}" class="flex flex-wrap gap-2">
          <a
            th:each="category : ${post.categories}"
            th:href="@{${category.status.permalink}}"
            th:title="${category.spec.displayName}"
            class="inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-xs font-medium hover:bg-gray-200"
          >
            <span th:text="|${category.spec.displayName}|" class="text-black"></span>
          </a>
        </div>

        <!-- 标签 -->
        <div th:if="${not #lists.isEmpty(post.tags)}" class="flex flex-wrap gap-2">
          <a
            th:each="tag : ${post.tags}"
            th:href="@{${tag.status.permalink}}"
            th:title="${tag.spec.displayName}"
            class="inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-xs font-medium hover:bg-gray-200"
          >
            <span th:text="|#${tag.spec.displayName}|" class="text-black"></span>
          </a>
        </div>
      </div>
    </div>
  </div>
</html>
